;/*FB_PKG_DELIM*/

__d("reformCometComposerTextWithEntitiesForLexical_textWithEntities.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"InlineDataFragment",name:"reformCometComposerTextWithEntitiesForLexical_textWithEntities"};e.exports=a}),null);
__d("CometInputWithCommands.react",["CometComponentWithKeyCommands.react","CometKeys","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useMemo;function a(a){var b=i(function(){var b=[];a.enter!=null&&b.push({command:{key:c("CometKeys").ENTER},description:a.enter.description,handler:a.enter.handler,triggerFromInputs:!0});a["delete"]!=null&&b.push({command:{key:c("CometKeys").DELETE},description:a["delete"].description,handler:a["delete"].handler,triggerFromInputs:!0});a.up!=null&&b.push({command:{key:c("CometKeys").UP},description:a.up.description,handler:a.up.handler,triggerFromInputs:!0});a.down!=null&&b.push({command:{key:c("CometKeys").DOWN},description:a.down.description,handler:a.down.handler,triggerFromInputs:!0});a.tab!=null&&b.push({command:{key:c("CometKeys").TAB},description:a.tab.description,handler:a.tab.handler,triggerFromInputs:!0});a.esc!=null&&b.push({command:{key:c("CometKeys").ESCAPE},description:a.esc.description,handler:a.esc.handler,triggerFromInputs:!0});return b},[a["delete"],a.down,a.enter,a.esc,a.tab,a.up]);return h.jsx(c("CometComponentWithKeyCommands.react"),{commandConfigs:b,debugName:"InputSubmit",elementType:a.isInline===!0?"span":"div",xstyle:a.xstyle,children:a.children})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometProductTagDotHint.react",["ix","CometTintedIcon.react","fbicon","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){var b=Boolean(a.isHighlighted)?"var(--accent)":"var(--fds-black-alpha-20)";return i.jsx("div",{className:"x6s0dn4 x78zum5 xl56j7k",style:{padding:a.padding},children:i.jsx("div",{className:Boolean(a.showShopIconInDot)?"x86vgt0 x14yjl9h xudhj91 x18nykt9 xww2gxu":"xx83zyx x14hiurz x14yjl9h xudhj91 x18nykt9 xww2gxu",style:{border:a.borderSize+"px solid "+b,height:a.dotSize,width:a.dotSize},children:Boolean(a.showShopIconInDot)?i.jsx(c("CometTintedIcon.react"),{color:"white",icon:d("fbicon")._(h("1664038"),16)}):null})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("cometLexicalTypeToNode",["CometLexicalGenericEntityNode","Lexical"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.id,c=a.text;a=a.type;switch(a){case"Actor":case"User":case"Page":case"Event":case"Hashtag":case"PageWhatsAppNumber":case"Group":case"GroupRule":case"GroupCustomSlashCommand":return d("CometLexicalGenericEntityNode").$createCometLexicalGenericEntityNode({id:b,text:c,type:a});default:return d("Lexical").$createTextNode(c)}}g.$cometLexicalTypeToNode=a}),98);
__d("reformCometComposerLexicalEditorForLexical",["Lexical","UnicodeUtils","cometComposerLexicalCreateEditor","cometLexicalTypeToNode"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var e=c("cometComposerLexicalCreateEditor")();e.update(function(){var c=d("Lexical").$getRoot(),e=d("Lexical").$createParagraphNode();c.append(e);h(c,e,a,b)});return e}function h(a,b,c,e){var f=0;e.forEach(function(a){var e;e=(e=a.offset)!=null?e:0;if(e>f){var g=e-f;g=d("UnicodeUtils").substr(c,f,g);i(b,g)}g=(g=a.length)!=null?g:0;var h=d("UnicodeUtils").substr(c,e,g);h=d("cometLexicalTypeToNode").$cometLexicalTypeToNode({id:a.entity.id,isWeak:a.isWeak,text:h,type:a.entity.type});h!==null&&(b.append(h),h.select());f=e+g});if(f!==d("UnicodeUtils").strlen(c)){e=d("UnicodeUtils").substr(c,f);i(b,e);a.getChildrenSize()!==0&&a.selectEnd()}}function i(a,b){var c=b.split(/\r?\n/);if(c.length===1){b=d("Lexical").$createTextNode(b);a.append(b);return}b=c.length;for(var e=0;e<b;e++){var f=c[e];f!==""&&a.append(d("Lexical").$createTextNode(f));e!==b-1&&a.append(d("Lexical").$createLineBreakNode())}}g["default"]=a}),98);
__d("reformCometComposerTextWithEntitiesForLexical",["CometRelay","reformCometComposerLexicalEditorForLexical","reformCometComposerTextWithEntitiesForLexical_textWithEntities.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,e){a=d("CometRelay").readInlineData(h!==void 0?h:h=b("reformCometComposerTextWithEntitiesForLexical_textWithEntities.graphql"),a);var f=a.ranges;a=a.text;if(a==null)return e;var g=[];f!=null&&(f.forEach(function(a){if(a!=null&&a.offset!=null&&a.length!=null&&a.entity_is_weak_reference!=null&&a.entity!=null&&a.entity.id!=null&&a.entity.__typename!=null){var b=a.entity.__typename;g.push({entity:{id:a.entity.id,type:b},isWeak:a.entity_is_weak_reference,length:a.length,offset:a.offset})}}),g.sort(function(a,b){return a.offset-b.offset}));f=c("reformCometComposerLexicalEditorForLexical")(a,g);return babelHelpers["extends"]({lexicalEditor:f},e)}g["default"]=a}),98);
__d("transformDraftEditorStateToTextWithEntities",["UnicodeUtils","emptyFunction"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){b===void 0&&(b=[]);var e=[],f=0,g=[],h=a.getCurrentContent();h.getBlockMap().forEach(function(a){var i="",j=0;a.findEntityRanges(c("emptyFunction").thatReturnsTrue,function(c,g){var k=b.some(function(b){var k=a.getText().slice(0,c);k=Math.max(0,k.length-d("UnicodeUtils").strlen(k));b=b(a,h,c,g);if(b!=null){var l=f-k+j;k=b.message;i+=k.text;e.push.apply(e,k.ranges.map(function(a){return{entity:a.entity,length:a.length,offset:a.offset+l}}));j+=k.text.length-(g-c);return!0}return!1});k||(i+=a.getText().slice(c,g).replace(/@\[/g,"@ ["))});f+=d("UnicodeUtils").strlen(i)+1;g.push(i)});a=g.join("\n");return{ranges:e,text:a}}g["default"]=a}),98);
__d("cometComposerMentionsBlockToEntity",["UnicodeUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c,e){var f=a.getEntityAt(c);if(f==null)return null;b=b.getEntity(f);if(b.getType()!=="MENTION")return null;f=a.getText().slice(c,e);a=b.getData();e=a.id;return e==null?null:{message:{ranges:[{entity:{id:e},length:d("UnicodeUtils").strlen(f),offset:c}],text:f}}}g["default"]=a}),98);
__d("MediaEditorViewStateDispatcherContext",["emptyFunction","react"],(function(a,b,c,d,e,f,g){"use strict";a=d("react");b=a.createContext(c("emptyFunction"));g["default"]=b}),98);
__d("MediaEditorViewStateReducerContext",["react"],(function(a,b,c,d,e,f,g){"use strict";a=d("react");b=a.createContext({current:new Map()});g["default"]=b}),98);
__d("useMediaEditorReducer",["MediaEditorViewStateReducerContext","useContextRef"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return c("useContextRef")(a,c("MediaEditorViewStateReducerContext"))}g["default"]=a}),98);
__d("useMediaEditorViewStateDispatcher",["MediaEditorViewStateDispatcherContext","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useContext;function a(){return h(c("MediaEditorViewStateDispatcherContext"))}g["default"]=a}),98);
__d("CometMediaViewerComposerLexicalPlugins.react",["cr:2590","createComposerDeferredPlugin","react","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=c("createComposerDeferredPlugin")(c("requireDeferred")("CometComposerIsDirtyPluginForLexical.react").__setRef("CometMediaViewerComposerLexicalPlugins.react")),j=c("createComposerDeferredPlugin")(c("requireDeferred")("CometComposerEmojiPluginForLexical.react").__setRef("CometMediaViewerComposerLexicalPlugins.react")),k=c("createComposerDeferredPlugin")(c("requireDeferred")("CometComposerLinksPluginForLexical.react").__setRef("CometMediaViewerComposerLexicalPlugins.react")),l=c("createComposerDeferredPlugin")(c("requireDeferred")("CometComposerMisinformationLinkDetectorPluginForLexical.react").__setRef("CometMediaViewerComposerLexicalPlugins.react")),m=c("createComposerDeferredPlugin")(c("requireDeferred")("CometMediaViewerComposerMentionsPluginForLexical.react").__setRef("CometMediaViewerComposerLexicalPlugins.react"));function a(a){var c=a.alwaysShrinkText;a=a.photoID;return h.jsxs(h.Fragment,{children:[h.jsx(k,{},"linkPlugin"),h.jsx(l,{composerType:"feed"},"misinformationLinkDetectorPlugin"),h.jsx(m,{photoID:a},"mentionsPlugin"),h.jsx(b("cr:2590"),{},"hashtagsPlugin"),h.jsx(j,{alwaysShrinkText:c},"emojiPlugin"),h.jsx(i,{})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometMediaViewerComposerLexicalEditor.react",["fbt","CometComposerEditorForLexical.react","CometMediaViewerComposerLexicalPlugins.react","FeedComposerCometTextStyleContext","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react").useMemo;function a(a){a=a.photoID;var b=j(function(){return{color:"primary-text",fontSize:15}},[]);return i.jsxs(c("FeedComposerCometTextStyleContext").Provider,{value:b,children:[i.jsx(c("CometComposerEditorForLexical.react"),{autoFocus:!0,placeholder:h._("__JHASH__cr_C5nMlTqA__JHASH__").toString(),surface:"FeedComposerCometStatusArea",textAlignment:void 0}),i.jsx(c("CometMediaViewerComposerLexicalPlugins.react"),{alwaysShrinkText:!1,photoID:a})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometMediaViewerComposerMentionsPluginForLexical.react",["CometMentionsForLexical.react","CometMentionsLayoutStrategy.react","FeedComposerCometMentionsViewItemResolver.react","cometMentionsLexicalCreateNodeStrategy","react","useCometMediaViewerComposerMentionsStrategyResolverConfig","useCometTypeaheadViewListStrategy","withComposerViewStatePart"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useCallback;function a(a){var b=a.editor;a=babelHelpers.objectWithoutPropertiesLoose(a,["editor"]);return b==null?null:h.jsx(j,babelHelpers["extends"]({},a,{editor:b}))}a.displayName=a.name+" [from "+f.id+"]";function j(a){var b=a.editor;a=a.photoID;a=c("useCometMediaViewerComposerMentionsStrategyResolverConfig")(a);var d=i(function(a){switch(a.rawData.type){case"MENTION_TYPE_SELECTION":return{shouldMentionSelectedEntry:!1};case"MENTION_TYPE_RESET":return{shouldMentionSelectedEntry:!1};default:return{shouldMentionSelectedEntry:!0}}},[]),e=c("useCometTypeaheadViewListStrategy")({viewItemStrategyRenderer:c("FeedComposerCometMentionsViewItemResolver.react")});return h.jsx(c("CometMentionsForLexical.react"),{createNodeStrategy:c("cometMentionsLexicalCreateNodeStrategy"),dataSourceResolverConfig:a,editor:b,layoutStrategyRenderer:c("CometMentionsLayoutStrategy.react"),mentionsHandlerForSelectedEntry:d,viewStrategyRenderer:e})}j.displayName=j.name+" [from "+f.id+"]";b=c("withComposerViewStatePart")(a,function(a){return{editor:a.lexicalEditor}});g["default"]=b}),98);
__d("CometMediaRemoveTagFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1743382");b=d("FalcoLoggerInternal").create("comet_media_remove_tag",a);e=b;g["default"]=e}),98);
__d("CometMediaVpvdFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1743384");b=d("FalcoLoggerInternal").create("comet_media_vpvd",a);e=b;g["default"]=e}),98);/*FB_PKG_DELIM*/
__d("useCometCreateComposerStateFromCommentData_comment.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},b={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useCometCreateComposerStateFromCommentData_comment",selections:[a,{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"body",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},{alias:null,args:null,concreteType:"EntityAtRange",kind:"LinkedField",name:"ranges",plural:!0,selections:[b,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"entity",plural:!1,selections:[b,{kind:"InlineFragment",selections:[a],type:"Node",abstractKey:"__isNode"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entity_is_weak_reference",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"length",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"offset",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"style_list",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_markdown_enabled",storageKey:null},{args:null,kind:"FragmentSpread",name:"CometFeedStoryUFICommentAttachments_comment"}],type:"Comment",abstractKey:null}}();e.exports=a}),null);
__d("setFocusOnCometUFIComposerInputState",["FBLogger","Lexical"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.editor;b!=null?b.update(function(){var a=d("Lexical").$getRoot();a.getChildrenSize()!==0&&a.selectEnd()}):c("FBLogger")("UFILexicalComposer").warn("setFocusOnCometUFIComposerInputStateForLexical being used on an editor that does not support Lexical");return a}g["default"]=a}),98);
__d("createCometUFICommentEditComposerLexicalPlugin",["fbt","CometLink.react","CometRow.react","CometRowItem.react","CometUFIComposerPreviewArea.react","Lexical","TetraText.react","mlcFocusSubscription","react","useCometLexicalSubscription"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useCallback,k=b.useEffect,l=b.useMemo;function m(a){return a.attachment&&a.attachment.__type==="ExistingAttachment"?a.attachment:null}function n(a){var b=a.allowCancelEdit,e=a.onFinishEdit;a=a.pluginProps;var f=a.composerState,g=a.editor,n=a.execCommand,o=a.setComposerState;a=m(f);f=l(function(){return c("mlcFocusSubscription")(g)},[g]);f=c("useCometLexicalSubscription")(f);var p=j(function(){n({__type:"BeforeFinishEdit"}),e()},[n,e]),q=j(function(){o(function(){return{attachment:null}})},[o]);k(function(){g.focus()},[g]);k(function(){return g.registerCommand(d("Lexical").KEY_ESCAPE_COMMAND,function(a){a=a;a.preventDefault();a.stopPropagation();b&&p();return!0},d("Lexical").COMMAND_PRIORITY_LOW)},[g,e,p,b]);return i.jsxs("div",{className:"xh8yej3",children:[a?i.jsx(c("CometUFIComposerPreviewArea.react"),{label:h._("__JHASH__HSFH2uC6RvQ__JHASH__"),onRemove:q,removeAnnouncement:h._("__JHASH__Pf-W96A21oP__JHASH__"),children:i.jsx("div",{className:"x1rg5ohu xvijh9v xhhsvwb x1ty9z65 xgzva0m xh8yej3",children:a.component})}):null,b&&i.jsx(c("CometRow.react"),{paddingHorizontal:0,paddingVertical:4,children:i.jsx(c("CometRowItem.react"),{children:i.jsx(c("TetraText.react"),{type:"meta4",children:f?h._("__JHASH__AfmVeI4Ncbw__JHASH__",[h._param("cancel",i.jsx(c("CometLink.react"),{color:"highlight",onClick:p,children:h._("__JHASH__MA2e8Vc584v__JHASH__")}))]):i.jsx(c("CometLink.react"),{color:"highlight",onClick:p,children:h._("__JHASH__73E60EqVclY__JHASH__")})})})})]})}n.displayName=n.name+" [from "+f.id+"]";function a(a){var b=a.allowCancelEdit;a=a.onFinishEdit;return{above:null,action:null,below:n,id:"edit",inside:null,props:{allowCancelEdit:b,onFinishEdit:a}}}g["default"]=a}),98);
__d("useCometCreateComposerEditorStateFromCommentData",["CometFeedStoryUFICommentAttachments.react","FBLogger","Lexical","UnicodeUtils","cometLexicalTypeToNode","cometUFILexicalCreateEditor","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function i(a,b){return{__type:"ExistingAttachment",component:h.jsx(c("CometFeedStoryUFICommentAttachments.react"),{actorID:b.actorID,comment:a,feedbackSource:b.feedbackSource,storyRenderLocation:b.storyRenderLocation})}}function j(a){c("FBLogger")("UFILexicalComposer").warn("The user tried to edit a comment with an attachment in the %s style but no code exists to convert that back into an attachment on UFI2ComposerState",a);return null}function k(a,b){var c=a.attachments&&a.attachments[0];if(!c||!c.style_list)return null;for(var d=c.style_list,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;switch(g){case"sticker":case"animated_image_autoplay":case"animated_image_share":case"photo":case"video":case"video_autoplay":case"file_upload":case"image_share":case"facts_in_comments":case"community_award_attachment":return i(a,b);case"COMMENT_MESSAGE_INFO":case"event":case"group":case"music_aggregation":case"share":case"video_share":return null}}return j(c.style_list[0])}function a(a,b){var e,f=(e=(e=b.body)==null?void 0:e.text)!=null?e:"",g=(e=b.body)==null?void 0:e.ranges;e=k(b,{actorID:a.actorID,feedbackSource:a.feedbackSource,storyRenderLocation:a.storyRenderLocation});var h=c("cometUFILexicalCreateEditor")();h.update(function(){var a=d("Lexical").$getRoot(),c=b.body;if(c){var e=0;c=a.getFirstChild();var h=d("Lexical").$createParagraphNode();c===null?a.append(h):c.replace(h);if(g){c=l(g);c.forEach(function(a){var b,c,g;b=(b=a.offset)!=null?b:0;if(b>e){var i=b-e;i=d("UnicodeUtils").substr(f,e,i);m(h,i)}i=(i=(i=a.entity)==null?void 0:i.__typename)!=null?i:"Actor";c=(c=a.length)!=null?c:0;var j=d("UnicodeUtils").substr(f,b,c);a=d("cometLexicalTypeToNode").$cometLexicalTypeToNode({id:(g=(g=a.entity)==null?void 0:g.id)!=null?g:"0",isWeak:(g=a.entity_is_weak_reference)!=null?g:!1,text:j,type:i});a!==null&&(h.append(a),a.select());e=b+c})}if(e!==d("UnicodeUtils").strlen(f)){c=d("UnicodeUtils").substr(f,e);m(h,c);a.getChildrenSize()!==0&&a.selectEnd()}}});return{attachment:e,commentAssociatedWithReply:null,commentID:b.id,editor:h,feedbackID:a.feedbackId,formattingStyle:b.is_markdown_enabled===!0?"MARKDOWN":"PLAIN_TEXT",inputDecorators:[],inputState:{__type:"lexical-editor-state-based"},isLocked:!1}}function l(a){return Array.from(a).sort(function(a,b){return((a=a.offset)!=null?a:0)-((a=b.offset)!=null?a:0)})}function m(a,b){var c=b.split(/\r?\n/);if(c.length===1){b=d("Lexical").$createTextNode(b);a.append(b)}else{b=c.length;for(var e=0;e<b;e++){var f=c[e];f!==""&&a.append(d("Lexical").$createTextNode(f));e!==b-1&&a.append(d("Lexical").$createLineBreakNode())}}}g["default"]=a}),98);
__d("useCometCreateComposerStateFromCommentData",["CometRelay","unrecoverableViolation","useCometCreateComposerEditorStateFromCommentData","useCometCreateComposerStateFromCommentData_comment.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,e){a=d("CometRelay").useFragment(h!==void 0?h:h=b("useCometCreateComposerStateFromCommentData_comment.graphql"),a);if(a==null)throw c("unrecoverableViolation")("Cannot create composer state without comment data on getCometCreateComposerStateFromCommentData","comet_feed");return c("useCometCreateComposerEditorStateFromCommentData")(e,a)}g["default"]=a}),98);
__d("ChatbotStatus",[],(function(a,b,c,d,e,f){a=Object.freeze({ENABLED:"enabled",LEGACY:"legacy",DISABLED:"disabled",INELIGIBLE:"ineligible"});f["default"]=a}),66);