;/*FB_PKG_DELIM*/

__d("MessengerWebPollConstants",[],(function(a,b,c,d,e,f){e.exports={POLL_COMPOSER_MAX_OPTIONS:10,POLL_MAX_OPTIONS:200,POLL_MIN_OPTIONS:2,POLL_MAX_OPTION_LENGTH:140,POLL_MAX_QUESTION_LENGTH:140}}),null);
__d("LSIssuePollCreationForThreadTask",["LSIssueNewTaskWithExtraOperations"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.seq([function(b){return c.db.table(9).fetch([[[a[1]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?d[0]=c.i64.cast([0,1]):(b=a.item,d[5]=b.syncGroup,c.i64.neq(d[5],f)?d[4]=d[5]:d[4]=c.i64.cast([0,1]),d[0]=d[4])})},function(e){return d[2]=new c.Map(),d[2].set("question_text",a[0]),d[2].set("thread_key",a[1]),d[2].set("options",a[2]),d[2].set("sync_group",d[0]),d[3]=c.toJSON(d[2]),c.sp(b("LSIssueNewTaskWithExtraOperations"),"poll_creation",c.i64.cast([0,163]),d[3],f,f,c.i64.cast([0,0]),c.i64.cast([0,0]),f,f,c.i64.cast([0,0]),f)}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("MWChatComposerP2PPaymentEligibilityQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5099562526770637"}),null);
__d("MWChatComposerP2PPaymentEligibilityQuery.graphql",["MWChatComposerP2PPaymentEligibilityQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"fbids"}],c=[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:"PeerToPeerPaymentAccount",kind:"LinkedField",name:"peer_to_peer_payments",plural:!1,selections:[{alias:null,args:[{kind:"Variable",name:"fbids",variableName:"fbids"}],concreteType:"PeerToPeerPaymentUserEligibility",kind:"LinkedField",name:"can_send_to",plural:!0,selections:[{alias:null,args:null,concreteType:"P2PPaymentUserFacingError",kind:"LinkedField",name:"exception",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fbid",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_eligible",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"MWChatComposerP2PPaymentEligibilityQuery",selections:c,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"MWChatComposerP2PPaymentEligibilityQuery",selections:c},params:{id:b("MWChatComposerP2PPaymentEligibilityQuery_facebookRelayOperation"),metadata:{},name:"MWChatComposerP2PPaymentEligibilityQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("MWChatComposerP2PPopoverQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="4759589620830704"}),null);
__d("MWChatComposerP2PPopoverQuery$Parameters",["MWChatComposerP2PPopoverQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("MWChatComposerP2PPopoverQuery_facebookRelayOperation"),metadata:{},name:"MWChatComposerP2PPopoverQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("MWChatAnimatedImageFlyout.react",["CometAnimatedImagePickerCard.react","CometColumn.react","CometColumnItem.react","CometErrorBoundary.react","CometPickerBasicStackingLayout.react","CometPickerSearchBox.react","CometPlaceholder.react","CometProgressRingIndeterminate.react","MWXPopover.react","cr:6414","gkx","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");e=d("react");var i=e.useCallback,j=e.useState,k=c("gkx")("1299319"),l=274,m={container:{height:"x1hie0zf",width:"xlro9se",$$css:!0},scrollableAreaForIE11:{maxHeight:"xuyqlj2",$$css:!0}};function a(a){var d=a.isSecureThread;d=d===void 0?!1:d;var e=a.onClose,f=a.onSelect,g=a.testid;g=a.withArrow;a=g===void 0?!0:g;g=i(function(a){e(),f(a)},[e,f]);var n=j(""),o=n[0];n=n[1];return h.jsx(c("CometErrorBoundary.react"),{children:h.jsx(c("MWXPopover.react"),{testid:void 0,withArrow:a,children:h.jsx(c("CometPickerBasicStackingLayout.react"),{xstyle:m.container,children:{content:h.jsx(c("CometPlaceholder.react"),{fallback:h.jsx(c("CometColumn.react"),{align:"center",expanding:!0,verticalAlign:"center",children:h.jsx(c("CometColumnItem.react"),{children:h.jsx(c("CometProgressRingIndeterminate.react"),{color:"disabled",size:24})})}),children:d?b("cr:6414")&&h.jsx(b("cr:6414"),{mediaHeight:l,mediaWidth:l,onSelect:g,searchQuery:o,xstyle:k&&m.scrollableAreaForIE11}):h.jsx(c("CometAnimatedImagePickerCard.react"),{mediaHeight:l,mediaWidth:l,onSelect:g,searchQuery:o,xstyle:k&&m.scrollableAreaForIE11})},1),header:h.jsx(c("CometPickerSearchBox.react"),{searchQuery:o,setSearchQuery:n},0)}})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatComposerOverflowIcons.bs",["cr:59"],(function(a,b,c,d,e,f,g){"use strict";g.PollsSVG=b("cr:59").PollsSVG,g.DollarSignSVG=b("cr:59").DollarSignSVG,g.MicrophoneSVG=b("cr:59").MicrophoneSVG}),98);
__d("MWChatPollStrings",["fbt"],(function(a,b,c,d,e,f,g,h){"use strict";a={addPollOptionLabel:h._("__JHASH__TTumxStOaLR__JHASH__"),createPollLabel:h._("__JHASH__Tf8o14f91uW__JHASH__"),pollTitleLabel:h._("__JHASH__CotUus5yWVx__JHASH__")};b=a;g["default"]=b}),98);
__d("MWChatPollFlyout.react",["BaseTextInput.react","CometScrollableArea.react","MWChatPollStrings","MWXButton.react","MWXPopover.react","MWXRow.react","MWXRowItem.react","MessengerWebPollConstants","react","stylex","useLayoutEffect_SAFE_FOR_SSR"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useRef,j=b.useState,k={button:{paddingTop:"xyamay9",paddingEnd:"x1pi30zi",paddingBottom:"x1l90r2v",paddingStart:"x1swvt13",zIndex:"x1vjfegm",$$css:!0},buttonOverflow:{boxShadow:"x8t3t8w",$$css:!0},container:{display:"x78zum5",flexDirection:"xdt5ytf",maxHeight:"xyf3nwv",width:"x168biu4",$$css:!0},optionText:{backgroundColor:"x1jx94hy",borderTopStyle:"x1ejq31n",borderEndStyle:"xd10rxx",borderBottomStyle:"x1sy0etr",borderStartStyle:"x17r0tee",color:"xzsf02u",fontSize:"x6prxxf",fontWeight:"x1s688f",width:"xh8yej3",$$css:!0},pollOption:{borderBottomColor:"x1nb4dca",borderBottomStyle:"x1q0q8m5",borderBottomWidth:"xso031l",marginBottom:"xod5an3",paddingBottom:"x1i2zvha",$$css:!0},pollOptions:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",marginStart:"x1d52u69",marginEnd:"xktsk01",$$css:!0},title:{backgroundColor:"x1jx94hy",borderTopStyle:"x1ejq31n",borderEndStyle:"xd10rxx",borderBottomStyle:"x1sy0etr",borderStartStyle:"x17r0tee",color:"xzsf02u",display:"x1lliihq",fontSize:"x6prxxf",fontWeight:"xk50ysn",marginBottom:"x1hq5gj4",marginStart:"x1d52u69",marginEnd:"xktsk01",marginTop:"xjv05ge",textAlign:"x2b8uid",$$css:!0}};function a(a){var b=a.onClose,d=a.onPollCreate,e=a.withArrow;e=e===void 0?!0:e;a=a.withPopover;a=a===void 0?!0:a;var f=j(""),g=f[0],l=f[1];f=j(function(){return[""]});var m=f[0],n=f[1];f=j(!1);var o=f[0],p=f[1],q=i(null),r=new Set(m.map(function(a){return a.toUpperCase()}).filter(function(a){return a!==""}));c("useLayoutEffect_SAFE_FOR_SSR")(function(){if(q.current!=null){var a=q.current.getDOMNode();p(function(){return a!=null&&a.scrollHeight>a.clientHeight})}},[q]);f=h.jsxs("div",{className:"x78zum5 xdt5ytf xyf3nwv x168biu4",children:[h.jsx(c("BaseTextInput.react"),{"aria-label":c("MWChatPollStrings").pollTitleLabel,maxLength:c("MessengerWebPollConstants").POLL_MAX_QUESTION_LENGTH,onChange:function(a){var b=a.target.value;return l(function(){return b})},placeholder:c("MWChatPollStrings").pollTitleLabel,value:g,xstyle:k.title}),h.jsx(c("CometScrollableArea.react"),{ref:q,vertical:!0,xstyle:k.pollOptions,children:m.map(function(a,b){return h.jsx("div",{className:"x1nb4dca x1q0q8m5 xso031l xod5an3 x1i2zvha",children:h.jsx(c("BaseTextInput.react"),{"aria-label":c("MWChatPollStrings").addPollOptionLabel,maxLength:c("MessengerWebPollConstants").POLL_MAX_OPTION_LENGTH,onBlur:function(){return n(function(a){return a.map(function(a){return a.trim()}).filter(function(a){return a!==""}).concat([""])})},onChange:function(a){var d=a.target.value;return n(function(a){return a.map(function(a,c){if(b===c)return d;else return a}).concat(b===a.length-1&&d!==""&&r.size<c("MessengerWebPollConstants").POLL_COMPOSER_MAX_OPTIONS?[""]:[])})},placeholder:c("MWChatPollStrings").addPollOptionLabel,value:a,xstyle:k.optionText})},String(b))})}),h.jsx("div",{className:c("stylex")(k.button,o?k.buttonOverflow:!1),children:h.jsx(c("MWXRow.react"),{paddingHorizontal:0,paddingTop:0,spacing:12,children:h.jsx(c("MWXRowItem.react"),{expanding:!0,children:h.jsx(c("MWXButton.react"),{disabled:r.size<c("MessengerWebPollConstants").POLL_MIN_OPTIONS||g.trim()==="",label:c("MWChatPollStrings").createPollLabel,onPress:function(){d(g,m.map(function(a){return a.trim()}).filter(function(a){return a!==""}));return b()},reduceEmphasis:!0,type:"primary"})})})})]});if(a)return h.jsx(c("MWXPopover.react"),{withArrow:e,children:f});else return f}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMWCreatePoll",["LSFactory","LSIssuePollCreationForThreadTask","LSVec","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(){var a=c("useReStore")();return h(function(b,d,e,f){c("promiseDone")(a.runInTransaction(function(a){return c("LSIssuePollCreationForThreadTask")(d,b,c("LSVec").make(e),c("LSFactory")(a))},"readwrite"),function(){},f!=null?f:function(){})},[a])}g["default"]=a}),98);
__d("MWChatComposerP2PPaymentEligibility",["CometRelay","MWChatComposerP2PPaymentEligibilityQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){return d("CometRelay").useLazyLoadQuery(h!==void 0?h:h=b("MWChatComposerP2PPaymentEligibilityQuery.graphql"),a)}g.useQuery=a}),98);
__d("MWV2ComposerFileMenuItem.react",["fbt","CometFileSelector.react","MWChatComposerIcons.bs","MWXIcon.react","MWXListCellPressable.react","MWXTextPairing.react","react","useMWV2ComposerOnFilesSelected"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react").useCallback,k=h._("__JHASH__irWVZkNfl97__JHASH__");function a(a){var b=a.color,e=a.onAttachmentsAdded,f=a.onClose;a=a.supportedFileTypes;var g=c("useMWV2ComposerOnFilesSelected")(e);e=function(a){f();return g(a)};var h=j(function(){return i.jsx(d("MWChatComposerIcons.bs").Photo.make,{fill:b,size:20})},[b]);return i.jsx(c("CometFileSelector.react"),{accept:a,multiple:!0,onFilesSelected:e,children:function(a){return i.jsx(c("MWXListCellPressable.react"),{addOnStart:i.jsx(c("MWXIcon.react"),{icon:h}),addOnStartVerticalAlign:"center",content:i.jsx(c("MWXTextPairing.react"),{headline:k,level:4}),onPress:function(){return a()},role:"menuitem"})}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ComposerGifMenuItem.react",["fbt","MWChatAnimatedImageFlyout.react","MWChatComposerIcons.bs","MWXIcon.react","MWXListCellPressable.react","MWXTextPairing.react","react","useMWV2ComposerOnGifSelect"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react").useCallback,k=h._("__JHASH__J6q-Bfr0oTE__JHASH__");function a(a){var b=a.color,e=a.onClose,f=a.onSendMessage,g=a.pushPage,h=c("useMWV2ComposerOnGifSelect")(f);a=function(){return g(function(){return i.jsx(c("MWChatAnimatedImageFlyout.react"),{onClose:e,onSelect:h,withArrow:!1})})};f=j(function(){return i.jsx(d("MWChatComposerIcons.bs").Gif.make,{fill:b,size:20})},[b]);return i.jsx(c("MWXListCellPressable.react"),{addOnStart:i.jsx(c("MWXIcon.react"),{icon:f}),addOnStartVerticalAlign:"center",content:i.jsx(c("MWXTextPairing.react"),{headline:k,level:4}),onPress:a,role:"menuitem"})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ComposerP2P.entrypoint",["JSResourceForInteraction","MWChatComposerP2PPopoverQuery$Parameters"],(function(a,b,c,d,e,f,g){a={getPreloadProps:function(a){return{queries:{rootQuery:{parameters:c("MWChatComposerP2PPopoverQuery$Parameters"),variables:{}}}}},root:c("JSResourceForInteraction")("MWChatComposerP2PPopover.react").__setRef("MWV2ComposerP2P.entrypoint")};b=a;g["default"]=b}),98);
__d("MWV2ComposerPaymentMenuItem.react",["fbt","I64","LSIntEnum","MWChatComposerOverflowIcons.bs","MWChatComposerP2PPaymentEligibility","MWPActor.react","MWV2ComposerP2P.entrypoint","MWXIcon.react","MWXListCellPressable.react","MWXTextPairing.react","MWXTooltip.react","react","react-relay/relay-hooks/LazyLoadEntryPointContainer_DEPRECATED.react","useCometRelayEntrypointContextualEnvironmentProvider"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=h._("__JHASH__ZfTcnFD1LsY__JHASH__"),k=h._("__JHASH__wXK5vs8tfga__JHASH__");function a(a){var b=a.color,e=a.onClose,f=a.participants,g=a.pushPage,h=a.thread,l=d("MWPActor.react").useActor(),m=f.filter(function(a){return!d("I64").equal(a.contactId,l)}).map(function(a){return d("I64").to_string(a.contactId)});a=d("MWChatComposerP2PPaymentEligibility").useQuery({fbids:m});f=a.viewer;var n=f==null?void 0:(a=f.peer_to_peer_payments)==null?void 0:a.can_send_to;f=n!=null?n[0]:void 0;var o=c("useCometRelayEntrypointContextualEnvironmentProvider")(),p=d("I64").equal(h.threadType,d("LSIntEnum").ofNumber(2)),q=d("I64").equal(h.threadType,d("LSIntEnum").ofNumber(5)),r=m.length===1?m[0]:void 0;a=function(){var a={closeActionTray:e,eligibility:n,isGroupThread:p,isMarketPlaceThread:q,onClose:e,otherUserFbid:r,threadFbid:d("I64").to_string(h.threadKey),threadOtherUsers:m,withPopover:!1};return g(function(){return i.jsx(c("react-relay/relay-hooks/LazyLoadEntryPointContainer_DEPRECATED.react"),{entryPoint:c("MWV2ComposerP2P.entrypoint"),entryPointParams:{},environmentProvider:o,props:a})})};if(f==null)return null;var s,t=j;if(p)q&&(t=k);else if(Boolean(f.is_eligible)===!1){s=(f=f.exception)==null?void 0:f.description}var u=s!=null;f=function(){return i.jsx(d("MWChatComposerOverflowIcons.bs").DollarSignSVG.make,{fill:u?void 0:b,size:20})};f=i.jsx(c("MWXListCellPressable.react"),{addOnStart:i.jsx(c("MWXIcon.react"),{icon:f}),addOnStartVerticalAlign:"center",content:i.jsx(c("MWXTextPairing.react"),{headline:t,headlineColor:u?"disabled":"primary",level:4}),disabled:u,onPress:a,role:"menuitem"});if(u)return i.jsx(c("MWXTooltip.react"),{position:"above",tooltip:s,children:f});else return f}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ComposerPollButton.react",["fbt","LsFalcoEventEntryPoint.bs","MWChatComposerOverflowIcons.bs","MWChatPollFlyout.react","MWXIcon.react","MWXListCellPressable.react","MWXTextPairing.react","MessageSendClickFalcoEvent","MessengerWebUXLogger","react","useMWCreatePoll"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=h._("__JHASH__YANDQDfyQrm__JHASH__");function a(a){var b=a.color,e=a.onClose,f=a.pushPage,g=a.thread,h=c("useMWCreatePoll")(),k=c("MessengerWebUXLogger")==null?void 0:c("MessengerWebUXLogger").useInteractionLogger();a=function(){k==null?void 0:k({eventName:"composer_open_create_poll_flyout"}),f(function(){return i.jsx(c("MWChatPollFlyout.react"),{onClose:e,onPollCreate:function(a,b){h(g.threadKey,a,b),c("MessageSendClickFalcoEvent").log(function(){return{message_send_source:{entry_point:d("LsFalcoEventEntryPoint.bs").composer}}})},withPopover:!1})})};var l=function(){return i.jsx(d("MWChatComposerOverflowIcons.bs").PollsSVG.make,{fill:b,size:20})};return i.jsx(c("MWXListCellPressable.react"),{addOnStart:i.jsx(c("MWXIcon.react"),{icon:l}),addOnStartVerticalAlign:"center",content:i.jsx(c("MWXTextPairing.react"),{headline:j,level:4}),onPress:a,role:"menuitem"})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ComposerStickerMenuItem.react",["fbt","MWChatComposerIcons.bs","MWChatStickersFlyout.react","MWXIcon.react","MWXListCellPressable.react","MWXTextPairing.react","react","useMWV2ComposerOnStickerSelect"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react").useCallback,k=h._("__JHASH__430IPCMJAf3__JHASH__");function a(a){var b=a.color,e=a.onClose,f=a.onSendMessage,g=a.pushPage,h=a.useSecureSend,l=c("useMWV2ComposerOnStickerSelect")(f,h);a=function(){return g(function(){return i.jsx(c("MWChatStickersFlyout.react"),{className:"x1fepime",onClose:e,onStickerSelect:l,shouldAlwaysShowAvatarPack:h,shouldHideDefaultPacks:h,withArrow:!1,withPopover:!0})})};f=j(function(){return i.jsx(d("MWChatComposerIcons.bs").Sticker.make,{fill:b,size:20})},[b]);return i.jsx(c("MWXListCellPressable.react"),{addOnStart:i.jsx(c("MWXIcon.react"),{icon:f}),addOnStartVerticalAlign:"center",content:i.jsx(c("MWXTextPairing.react"),{headline:k,level:4}),onPress:a,role:"menuitem"})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ComposerVoiceClipButton.react",["fbt","MWChatComposerOverflowIcons.bs","MWXIcon.react","MWXListCellPressable.react","MWXTextPairing.react","MessengerWebUXLogger","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=h._("__JHASH__Cn3aSQ9nsyA__JHASH__");function a(a){var b=a.color,e=a.onPress;a=function(){return i.jsx(d("MWChatComposerOverflowIcons.bs").MicrophoneSVG.make,{fill:b,size:20})};var f=c("MessengerWebUXLogger")==null?void 0:c("MessengerWebUXLogger").useInteractionLogger();return i.jsx(c("MWXListCellPressable.react"),{addOnStart:i.jsx(c("MWXIcon.react"),{icon:a}),addOnStartVerticalAlign:"center",content:i.jsx(c("MWXTextPairing.react"),{headline:j,level:4}),onPress:function(){e(),f==null?void 0:f({eventName:"composer_record_voice_clip"})},role:"menuitem"})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ComposerOverflowMenu.react",["fbt","BaseMultiStepContainer.react","CometErrorBoundary.react","CometPlaceholder.react","FocusGroup.react","Int64Hooks","LSMessagingThreadTypeUtil","MAWGating","MWV2ComposerFileMenuItem.react","MWV2ComposerGifMenuItem.react","MWV2ComposerPaymentMenuItem.react","MWV2ComposerPollButton.react","MWV2ComposerStickerMenuItem.react","MWV2ComposerVoiceClipButton.react","MWXPopover.react","MessengerWebUXLogger","ReQL.bs","ReQLSubscription.bs","WebUXLoggingSurfaceContextProvider","cr:920","focusScopeQueries","react","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");e=d("FocusGroup.react").createFocusGroup(d("focusScopeQueries").tabbableScopeQuery);var j=e[0],k=e[1];function l(a){var e=a.color,f=a.editor,g=a.extraItems,h=a.onAttachmentsAdded,l=a.onClose,m=a.onPressVoiceClip,n=a.onSendMessage,o=a.pushPage,p=a.showCreatePoll,q=a.showFile,r=a.showGif,s=a.showMetaCreateArt,t=a.showPayment,u=a.showSendVoiceClip,v=a.showSticker,w=a.supportedFileTypes,x=a.thread,y=c("useReStore")();a=d("ReQLSubscription.bs").useArray(d("Int64Hooks").useMemoInt64(function(){return d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(y.table("participants")),{hd:x.threadKey,tl:0})},[y,x.threadKey]),"9hxlteb6");var z=d("MAWGating").isStickerEnabled()&&d("LSMessagingThreadTypeUtil").isSecure(x.threadType),A=c("MessengerWebUXLogger")==null?void 0:c("MessengerWebUXLogger").useImpressionLoggerRef({eventName:"composer_show_overflow_menu"});return i.jsx("div",{className:"x1jzhcrs x1iorvi4 x150jy0e xjkvuk6 x1e558r4 xuxw1ft",ref:A,role:"menu",children:i.jsxs(j,{orientation:"vertical",tabScopeQuery:d("focusScopeQueries").tabbableScopeQuery,wrap:!0,children:[g.map(function(a,b){return i.jsx(k,{children:a},String(b))}),t?i.jsx(c("CometPlaceholder.react"),{fallback:null,children:i.jsx(k,{children:i.jsx(c("MWV2ComposerPaymentMenuItem.react"),{color:e,onClose:l,participants:a,pushPage:o,thread:x})})}):null,p?i.jsx(k,{children:i.jsx(c("MWV2ComposerPollButton.react"),{color:e,onClose:l,pushPage:o,thread:x})}):null,u?i.jsx(k,{children:i.jsx(c("MWV2ComposerVoiceClipButton.react"),{color:e,onPress:m})}):null,s&&b("cr:920")!=null?i.jsx(k,{children:i.jsx(b("cr:920"),{color:e,editor:f,onAttachmentsAdded:function(a){l();return h(a)}})}):null,v?i.jsx(k,{children:i.jsx(c("MWV2ComposerStickerMenuItem.react"),{color:e,onClose:l,onSendMessage:n,pushPage:o,useSecureSend:z})}):null,r?i.jsx(k,{children:i.jsx(c("MWV2ComposerGifMenuItem.react"),{color:e,onClose:l,onSendMessage:n,pushPage:o})}):null,q?i.jsx(k,{children:i.jsx(c("MWV2ComposerFileMenuItem.react"),{color:e,onAttachmentsAdded:h,onClose:l,supportedFileTypes:w})}):null]})})}l.displayName=l.name+" [from "+f.id+"]";function a(a){var b=a.color,e=a.editor,f=a.extraItems,g=a.onAttachmentsAdded,j=a.onClose,k=a.onPressVoiceClip,m=a.onSendMessage,n=a.showCreatePoll,o=a.showFile,p=a.showGif,q=a.showMetaCreateArt,r=a.showPayment,s=a.showSendVoiceClip,t=a.showSticker,u=a.supportedFileTypes,v=a.threadKey,w=c("useReStore")(),x=d("ReQLSubscription.bs").useFirst(d("Int64Hooks").useMemoInt64(function(){return d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(w.table("threads")),{hd:v,tl:0})},[w,v]),"a5n2vetw");return i.jsx(c("CometErrorBoundary.react"),{children:i.jsx(d("WebUXLoggingSurfaceContextProvider").WebUXLoggingSurfaceContextProvider,{value:"composer_overflow_menu",children:i.jsx(c("MWXPopover.react"),{label:h._("__JHASH__76y6Ps_E8h7__JHASH__"),withArrow:!0,children:x!=null?i.jsx(c("BaseMultiStepContainer.react"),{fitContentWidth:!0,children:function(a){return i.jsx(l,{color:b,editor:e,extraItems:f,onAttachmentsAdded:g,onClose:j,onPressVoiceClip:function(){j();return k()},onSendMessage:m,pushPage:a,showCreatePoll:n,showFile:o,showGif:p,showMetaCreateArt:q,showPayment:r,showSendVoiceClip:s,showSticker:t,supportedFileTypes:u,thread:x})}}):null})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);